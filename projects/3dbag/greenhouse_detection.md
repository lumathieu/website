---
layout: page
title: Detection and filtering of glass roofs for a more efficient 3DBAG reconstruction pipeline
permalink: /projects/3dbag/greenhouse_detection
---

<div class="row">
  <div class="col-sm-12 col-xs-12"><img class="img-responsive" src="{{ "img/greenhouses1.png" }}"></div>
</div>

- - -

* Table of Content
{:toc}

- - -


## Problem Description

The 3DBAG is an open dataset containing 3D building models from across the Netherlands at multiple levels of detail (LoD). These models are generated by combining data from two open datasets; the building footprints from the BAG and the aerial lidar data from the AHN. However, the reliance on these external datasets introduces a vulnerability to  the pipeline, since any quality inconsistency in the input data can significantly affect both the quality of  the output and the robustness of the reconstruction. One such challenge arises with the occurrence of glass surfaces in the lidar data, which are most commonly observed in the roofs of greenhouses. Due to the transparency of the glass, the point clouds of  structures with glass roofs are characterised by  the simultaneous capture of ground points and roof points within the structure’s footprint. (Fig.1.a)

The effect of these cases in the 3DBAG pipeline is two-fold. Firstly, the reconstructions from such lidar data are erroneous and can introduce non-existing, overcomplicated structures to the output dataset (Fig.2). Secondly, the reconstruction of such takes significantly longer time than the usual buildings due to the added complexity; as a result the whole reconstruction pipeline is hindered. Up until now, in order to avoid such problematic reconstructions in the  3DBAG output, we use the  “greenhouse & warehouse”  classification from TOP10NL in order to exclude these buildings from the regular pipeline and reconstruct them, instead, at 1.2 level of detail. However, this TOP10NL class is focused on greenhouses and does not include other types of glass roofs. Additionally,  it is often the case that there are greenhouses in the lidar data that have not been included in the TOP10NL dataset. 

---

<div class="row">
  <div class="col-sm-12 col-xs-12"><img class="img-responsive" src="{{ "img/greenhouses1.png" }}"></div>
</div>

- - -

- - -
<div class="row">
  <div class="col-sm-12 col-xs-12"><img class="img-responsive" src="{{ "img/greenhouses2.png" }}"></div>
</div>

- - -

## Solution

In order to identify such cases, we have developed a simple, effective solution to correctly identify glass roofs using the rasterized point clouds and the building polygons. For each raster cell we estimate the probability of it belonging to a glass roof based on the amount of “ground” vs “non-ground” point and its location with regards to the building polygon. (Fig.3) 

<div class="row">
  <div class="col-sm-12 col-xs-12"><img class="img-responsive" src="{{ "img/greenhouses3.jpg" }}"></div>
</div>

- - -

## Results

